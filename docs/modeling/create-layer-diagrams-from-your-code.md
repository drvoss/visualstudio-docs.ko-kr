---
title: 코드에서 종속성 다이어그램 만들기
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- architecture, dependency diagrams
- dependency diagrams
- diagrams - modeling, layer
- constraints, architectural
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: d4a4d2c1600558e4c31c6dd12b85f931a83e7ba7
ms.sourcegitcommit: 0f44ec8ba0263056ad04d2d0dc904ad4206ce8fc
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/06/2019
ms.locfileid: "70766220"
---
# <a name="create-dependency-diagrams-from-your-code"></a>코드에서 종속성 다이어그램 만들기

소프트웨어 시스템의 상위 수준 논리적 아키텍처를 시각화 하려면 Visual Studio에서 *종속성 다이어그램* 을 만듭니다. 코드가이 디자인과 일관 되 게 유지 되도록 하려면 종속성 다이어그램으로 코드의 유효성을 검사 합니다. 시각적 개체 C# 및 Visual Basic 프로젝트에 대 한 종속성 다이어그램을 만들 수 있습니다. 이 기능을 지 원하는 Visual Studio 버전을 확인 하려면 [아키텍처 및 모델링 도구에 대 한 버전 지원](../modeling/what-s-new-for-design-in-visual-studio.md#edition-support-for-architecture-and-modeling-tools)을 참조 하세요.

![종속성 다이어그램 만들기](../modeling/media/layerdiagramvisualizecode.png)

종속성 다이어그램을 사용 하면 Visual Studio 솔루션 항목을 *레이어*라는 논리적 추상 그룹으로 구성할 수 있습니다. 레이어를 사용하여 이러한 아티팩트가 수행하는 주요 작업 또는 시스템의 주요 구성 요소를 설명할 수 있습니다. 각 레이어에는 보다 세부적인 작업을 나타내는 다른 레이어가 포함될 수 있습니다. 계층 간에 의도 하거나 기존 *종속성* 을 지정할 수도 있습니다. 이와 같이 화살표로 나타내는 종속성은 다른 레이어가 나타내는 기능을 어느 레이어가 사용할 수 있는지 또는 현재 어느 레이어가 사용하고 있는지를 표시합니다. 코드의 아키텍처 제어를 유지하려면 다이어그램에서 의도한 종속성을 표시한 다음 해당 다이어그램에 대해 코드 유효성을 검사합니다.

[비디오: 실시간으로 아키텍처 종속성 유효성 검사](https://sec.ch9.ms/sessions/69613110-c334-4f25-bb36-08e5a93456b5/170ValidateArchitectureDependenciesWithVisualStudio.mp4)

## <a name="CreateDiagram"></a>종속성 다이어그램 만들기

종속성 다이어그램을 만들기 전에 솔루션에 모델링 프로젝트가 있는지 확인 합니다.

> [!IMPORTANT]
> 모델링 프로젝트에서 다른 모델링 프로젝트나 솔루션의 다른 위치로 기존 종속성 다이어그램을 추가 하거나 끌어 놓거나 복사 하지 마십시오. 그러면 다이어그램을 변경하더라도 원래 다이어그램의 참조가 유지됩니다. 또한 레이어 유효성 검사가 제대로 작동하지 않고 다이어그램을 열려고 할 때 요소 누락이나 기타 오류 등의 다른 문제가 발생할 수 있습니다.
>
> 대신 모델링 프로젝트에 새 종속성 다이어그램을 추가 합니다. 소스 다이어그램에서 새 다이어그램으로 요소를 복사합니다. 모델링 프로젝트와 새 종속성 다이어그램을 모두 저장 합니다.

### <a name="add-a-new-dependency-diagram-to-a-modeling-project"></a>모델링 프로젝트에 새 종속성 다이어그램 추가

> [!NOTE]
> .NET Core 프로젝트에 대 한 종속성 다이어그램은 Visual Studio 2019 버전 16.2부터 지원 됩니다.

1. **아키텍처** 메뉴에서 **새 종속성 다이어그램**을 선택 합니다.

2. **템플릿**아래에서 **종속성 다이어그램**을 선택 합니다.

3. 다이어그램 이름을 지정합니다.

4. **모델링 프로젝트에 추가**에서 솔루션의 기존 모델링 프로젝트를 찾아 선택 합니다.

     또는

     새 모델링 **프로젝트 만들기** 를 선택 하 여 새 모델링 프로젝트를 솔루션에 추가 합니다.

    > [!NOTE]
    > 종속성 다이어그램은 모델링 프로젝트 내에 있어야 합니다. 그러나 솔루션의 다른 위치에 있는 항목에 링크를 연결할 수 있습니다.

5. 모델링 프로젝트와 종속성 다이어그램을 모두 저장 해야 합니다.

## <a name="drag-and-drop-or-copy-and-paste-from-a-code-map"></a>코드 맵에서 끌어서 놓기, 복사 및 붙여넣기

1. **아키텍처** 메뉴를 사용 하 여 솔루션에 대 한 코드 맵을 생성 합니다.

2. 제품 코드에 종속성을 적용 하려는 경우에는 코드 맵 필터를 적용 하 여 솔루션 폴더를 제거 하 고 "자산 테스트"를 수행 하는 것이 좋습니다.

3. 네임 스페이스 종속성의 적용 여부에 따라 생성 된 코드 맵에서 "External" 노드를 제거 하거나 확장 하 여 외부 어셈블리를 표시 합니다.

4. **아키텍처** 메뉴를 사용 하 여 솔루션에 대 한 새 종속성 다이어그램 만들기

5. 코드 맵의 모든 노드를 선택 합니다 ( _Ctrl_ + _A_를 사용 하거나, 클릭 한 후 끌기 및 릴리스를 클릭 하기 전에 _Shift_ 키를 눌러 고무 밴드 선택을 사용 합니다.

6. 선택한 요소를 새 종속성 유효성 검사 다이어그램으로 끌어서 놓거나 복사 하 여 붙여 넣습니다.

7. 현재 응용 프로그램 아키텍처를 보여 줍니다. 아키텍처의 용도를 결정 하 고 종속성 다이어그램을 적절 하 게 수정 합니다.

![코드 맵에서 생성 된 종속성 다이어그램](media/dependency-validation-01.png)

## <a name="CreateLayers"></a>아티팩트에서 레이어 만들기
 프로젝트, 코드 파일, 네임스페이스, 클래스, 메서드 등 Visual Studio 솔루션 항목에서 레이어를 만들 수 있습니다. 이렇게 하면 레이어와 항목 간에 링크가 자동으로 만들어지고 레이어 유효성 검사 프로세스에 포함됩니다.

 또한 Word 문서 또는 PowerPoint 프레젠테이션과 같이 유효성 검사를 지원하지 않는 항목에 레이어를 연결하여 레이어에 사양 또는 계획을 연결할 수 있습니다. 또한 여러 앱에 공유되는 프로젝트의 파일에 레이어를 연결할 수 있지만, 유효성 검사 프로세스에는 "레이어 1", "레이어 2"와 같이 제네릭 이름으로 나타나는 레이어는 포함되지 않습니다.

 연결 된 항목에서 유효성 검사를 지원 하는지 확인 하려면 **레이어 탐색기** 를 열고 항목의 **유효성 검사 지원** 속성을 검사 합니다. [아티팩트에 대 한 링크 관리를](#Managing)참조 하세요.

|**수행할 작업**|**다음 단계 수행**|
|-|-|
|단일 아티팩트에 대한 레이어 만들기|<ol><li>항목을 다음 원본에서 종속성 다이어그램으로 끌어 놓습니다.<br /><br /> <ul><li>**솔루션 탐색기**<br /><br />         예를 들어 파일이나 프로젝트를 끌어 올 수 있습니다.</li><li>코드 맵<br /><br />         [솔루션 전체의 종속성 매핑](../modeling/map-dependencies-across-your-solutions.md) 및 [코드 맵을 사용 하 여 응용 프로그램 디버그를](../modeling/use-code-maps-to-debug-your-applications.md)참조 하세요.</li><li>**클래스 뷰** 또는 **개체 브라우저**</li></ul><br />     레이어가 다이어그램에 나타나고 아티팩트에 연결됩니다.</li><li>연결된 코드 또는 아티팩트의 기능을 반영하도록 레이어 이름을 바꿉니다.</li></ol> **중요:**  이진 파일을 종속성 다이어그램으로 끌어 오면 해당 참조가 모델링 프로젝트에 자동으로 추가 되지 않습니다. 유효성을 검사할 이진 파일을 모델링 프로젝트에 수동으로 추가해야 합니다. **모델링 프로젝트에 이진 파일을 추가 하려면** <ol><li>**솔루션 탐색기**에서 모델링 프로젝트에 대 한 바로 가기 메뉴를 열고 **기존 항목 추가**를 선택 합니다.</li><li>**기존 항목 추가** 대화 상자에서 이진 파일을 찾아 선택한 다음 **확인**을 선택 합니다.     이진 파일이 모델링 프로젝트에 나타납니다.</li><li>**솔루션 탐색기**에서 추가한 이진 파일을 선택 하 고 **F4** 키를 눌러 **속성** 창을 엽니다.</li><li>각 이진 파일에서 **빌드 작업** 속성을 **Validate**로 설정 합니다.</li></ol>|
|선택한 모든 아티팩트에 대한 단일 레이어 만들기|모든 아티팩트를 동시에 종속성 다이어그램으로 끌어 옵니다.<br /><br /> 레이어가 다이어그램에 나타나고 모든 아티팩트에 연결됩니다.|
|선택한 각 아티팩트마다 레이어 만들기|**SHIFT** 키를 누른 채로 동시에 모든 아티팩트를 종속성 다이어그램으로 끕니다. **참고:**  **SHIFT** 키를 사용 하 여 항목 범위를 선택 하는 경우 아티팩트를 선택한 후 키를 해제 합니다. 그런 다음 이 키를 다시 누른 상태로 아티팩트를 다이어그램으로 끌어 옵니다. <br /><br /> 각 아티팩트에 대한 레이어가 다이어그램에 나타나고 각 아티팩트에 연결됩니다.|
|레이어에 아티팩트 추가|아티팩트를 레이어로 끌어 옵니다.|
|연결되지 않은 새 레이어 만들기|**도구 상자**에서 **종속성 다이어그램** 섹션을 확장 한 다음 **계층** 을 종속성 다이어그램으로 끌어 옵니다.<br /><br /> 레이어를 여러 개 추가하려면 이 도구를 두 번 클릭합니다. 작업이 완료 되 면 **포인터** 도구를 선택 하거나 **esc** 키를 누릅니다.<br /><br /> -또는-<br /><br /> 종속성 다이어그램에 대 한 바로 가기 메뉴를 열고 **추가**를 선택한 다음 **레이어**를 선택 합니다.|
|중첩된 레이어 만들기|기존 레이어를 다른 아티팩트로 끌어 옵니다.<br /><br /> -또는-<br /><br /> 레이어에 대 한 바로 가기 메뉴를 열고 **추가**를 선택한 다음 **레이어**를 선택 합니다.|
|기존 레이어를 두 개 이상 포함하는 새 레이어 만들기|계층을 선택 하 고 선택 항목에 대 한 바로 가기 메뉴를 연 다음 **그룹**을 선택 합니다.|
|레이어 색 변경|**Color** 속성을 원하는 색으로 설정 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 속하지 않도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 종속될 수 없도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스 종속성** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스 중 하나에 속해야 하도록 지정합니다.|계층의 **필수 네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|

 레이어의 숫자는 해당 레이어에 연결된 아티팩트의 수를 나타냅니다. 그러나 이 숫자를 읽을 때 다음 사항을 유념해야 합니다.

- 레이어가 직접 연결되지 않은 다른 아티팩트를 포함하는 아티팩트에 연결된 경우 연결된 아티팩트만 숫자에 포함됩니다. 그러나 레이어 유효성 검사 중에는 직접 연결되지 않은 다른 아티팩트도 분석을 위해 포함됩니다.

     예를 들어 레이어가 단일 네임스페이스에 연결된 경우 해당 네임스페이스에 클래스가 들어 있더라도 연결된 아티팩트의 수는 1입니다. 레이어가 네임스페이스의 각 클래스에도 연결되어 있으면 연결된 클래스가 숫자에 포함됩니다.

- 레이어가 아티팩트에 연결된 다른 레이어를 포함하면 컨테이너 레이어가 이 아티팩트에도 연결됩니다. 단, 컨테이너 레이어의 숫자에는 이러한 아티팩트가 포함되지 않습니다.

## <a name="Managing"></a>레이어와 아티팩트 간의 링크 관리

1. 종속성 다이어그램에서 계층에 대 한 바로 가기 메뉴를 열고 **링크 보기**를 선택 합니다.

     **레이어 탐색기** 는 선택한 계층에 대 한 아티팩트 링크를 표시 합니다.

2. 다음 작업으로 이러한 링크를 관리할 수 있습니다.

|**수행할 작업**|**레이어 탐색기에서**|
|-|-|
|레이어와 아티팩트 간의 링크 삭제|아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **삭제**를 선택 합니다.|
|한 레이어에서 다른 레이어로 링크 이동|아티팩트 링크를 다이어그램의 기존 레이어로 끌어 옵니다.<br /><br /> -또는-<br /><br /> 1.  아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **잘라내기**를 선택 합니다.<br />2.  종속성 다이어그램에서 계층에 대 한 바로 가기 메뉴를 열고 **붙여넣기**를 선택 합니다.|
|한 레이어에서 다른 레이어로 링크 복사|1.  아티팩트 링크에 대 한 바로 가기 메뉴를 열고 **복사**를 선택 합니다.<br />2.  종속성 다이어그램에서 계층에 대 한 바로 가기 메뉴를 열고 **붙여넣기**를 선택 합니다.|
|기존 아티팩트 링크에서 새 레이어 만들기|아티팩트 링크를 다이어그램의 빈 영역으로 끌어 옵니다.|
|연결 된 아티팩트가 종속성 다이어그램에 대 한 유효성 검사를 지원 하는지 확인 합니다.|아티팩트 링크에 대 한 **유효성 검사 지원** 열을 확인 합니다.|

## <a name="Discovering"></a>기존 종속성 리버스 엔지니어링
 한 레이어와 연결된 아티팩트에 다른 레이어와 연결된 아티팩트에 대한 참조가 있을 때마다 종속성이 존재합니다. 예를 들어 한 레이어의 클래스가 다른 레이어의 클래스를 포함하는 변수를 선언하는 경우입니다. 다이어그램의 레이어에 연결된 아티팩트에 대한 기존 종속성을 리버스 엔지니어링할 수 있습니다.

> [!NOTE]
> 일부 아티팩트 종류의 경우 종속성을 리버스 엔지니어링할 수 없습니다. 예를 들어 텍스트 파일에 연결된 레이어를 소스 또는 대상으로 하는 종속성은 리버스 엔지니어링되지 않습니다. 리버스 엔지니어링할 수 있는 종속성이 있는 아티팩트를 확인 하려면 하나 또는 여러 계층에 대 한 바로 가기 메뉴를 연 다음 **링크 보기**를 선택 합니다. **레이어 탐색기**에서 **유효성 검사 지원** 열을 검토 합니다. 이 열이 **False**를 표시 하는 아티팩트에 대해서는 종속성이 리버스 엔지니어링 되지 않습니다.

- 하나 또는 여러 개의 레이어를 선택 하 고, 선택한 레이어에 대 한 바로 가기 메뉴를 연 후 **종속성 생성**을 선택 합니다.

  일반적으로 존재할 수 없는 일부 종속성이 나타나는데, 이러한 종속성을 편집하여 계획된 디자인에 맞출 수 있습니다.

## <a name="EditDependencies"></a>레이어 및 종속성을 편집 하 여 의도 된 디자인 표시
 시스템이 나 계획 된 아키텍처에 대 한 변경 내용을 설명 하려면 종속성 다이어그램을 편집 합니다.

|**수행할 작업**|**다음 단계 수행**|
|-|-|
|종속성 방향 변경 또는 제한|**Direction** 속성을 설정 합니다.|
|새 종속성 만들기|**종속성** 및 **양방향 종속성** 도구를 사용 합니다.<br /><br /> 종속성을 여러 개 그리려면 이 도구를 두 번 클릭합니다. 작업이 완료 되 면 **포인터** 도구를 선택 하거나 **esc** 키를 누릅니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 종속될 수 없도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스 종속성** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 속하지 않도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스 중 하나에 속해야 하도록 지정합니다.|계층의 **필수 네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|

## <a name="EditLayout"></a>요소가 다이어그램에 표시 되는 방식 변경
 해당 속성을 편집하여 레이어의 크기, 모양, 색, 위치 또는 종속성의 색을 변경할 수 있습니다.

## <a name="Codemaps"></a>코드 맵에 대 한 패턴 및 종속성 검색
 종속성 다이어그램을 만들 때 **코드 맵**도 만들 수 있습니다. 이러한 다이어그램은 코드를 탐색하는 동안 패턴 및 종속성을 검색하는 데 도움이 됩니다. 솔루션 탐색기, 클래스 뷰 또는 개체 브라우저를 사용하여 어셈블리, 네임스페이스 및 클래스를 탐색합니다. 이러한 요소는 기존 레이어에 해당하는 경우가 많습니다. 코드 맵에 대한 자세한 내용은 다음을 참조하세요.

- [솔루션 전체의 종속성 매핑](../modeling/map-dependencies-across-your-solutions.md)

- [코드 맵을 사용하여 응용 프로그램 디버그](../modeling/use-code-maps-to-debug-your-applications.md)

- [코드 맵 분석기를 사용하여 잠재적 문제 찾기](../modeling/find-potential-problems-using-code-map-analyzers.md)

## <a name="see-also"></a>참고 항목

- [아키텍처 및 모델링 도구에 대 한 버전 지원](../modeling/what-s-new-for-design-in-visual-studio.md#edition-support-for-architecture-and-modeling-tools)
- [비디오: 실시간으로 아키텍처 종속성 유효성 검사](https://sec.ch9.ms/sessions/69613110-c334-4f25-bb36-08e5a93456b5/170ValidateArchitectureDependenciesWithVisualStudio.mp4)
- [종속성 다이어그램: 참조](../modeling/layer-diagrams-reference.md)
- [종속성 다이어그램: 지침](../modeling/layer-diagrams-guidelines.md)
- [종속성 다이어그램을 사용하여 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)
- [코드 시각화](../modeling/visualize-code.md)
