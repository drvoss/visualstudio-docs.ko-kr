---
title: '종속성 다이어그램: 지침'
ms.date: 09/28/2018
ms.topic: conceptual
helpviewer_keywords:
- architecture, dependency diagrams
- dependency diagrams
- diagrams - modeling, layer
- constraints, architectural
author: JoshuaPartlow
ms.author: joshuapa
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 9f8ec90d045259cd5d10533db6096154376d48fe
ms.sourcegitcommit: d233ca00ad45e50cf62cca0d0b95dc69f0a87ad6
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/01/2020
ms.locfileid: "75594632"
---
# <a name="dependency-diagrams-guidelines"></a>종속성 다이어그램: 지침

Visual Studio에서 *종속성 다이어그램* 을 만들어 상위 수준에서 앱의 아키텍처를 설명 합니다. 종속성 다이어그램으로 코드의 유효성을 검사 하 여 코드를이 디자인과 일관 되 게 유지 해야 합니다. 빌드 프로세스에 레이어 유효성 검사를 포함할 수도 있습니다. [Channel 9 비디오: 종속성 다이어그램을 사용 하 여 아키텍처 디자인 및 유효성 검사](https://channel9.msdn.com/Series/Visual-Studio-2012-Premium-and-Ultimate-Overview/Visual-Studio-Ultimate-2012-Using-layer-diagrams-to-design-and-validate-your-architecture)를 참조 하세요.

이 기능을 지 원하는 Visual Studio 버전을 확인 하려면 [아키텍처 및 모델링 도구에 대 한 버전 지원](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)을 참조 하세요.

> [!NOTE]
> .NET Core 프로젝트에 대 한 종속성 다이어그램은 Visual Studio 2019 버전 16.2부터 지원 됩니다.

## <a name="what-is-a-dependency-diagram"></a>종속성 다이어그램 이란?

기존 아키텍처 다이어그램과 마찬가지로 종속성 다이어그램은 디자인의 주요 구성 요소 또는 기능 단위와 해당 상호 종속성을 식별 합니다. *계층*이라고 하는 다이어그램의 각 노드는 네임 스페이스, 프로젝트 또는 기타 아티팩트의 논리적 그룹을 나타냅니다. 디자인에 존재해야 하는 종속성을 그릴 수 있습니다. 전형적인 아키텍처 다이어그램과 달리 소스 코드의 실제 종속성이 사용자가 지정한 의도한 종속성에 부합되는지 확인할 수 있습니다. 유효성 검사를 [!INCLUDE[esprtfs](../code-quality/includes/esprtfs_md.md)]에 대한 정기 빌드의 일부로 포함하여 프로그램 코드가 향후 변경되더라도 시스템의 아키텍처와 계속 일치하도록 할 수 있습니다. [종속성 다이어그램: 참조](../modeling/layer-diagrams-reference.md)를 참조 하세요.

## <a name="how-to-design-or-update-your-app-with-dependency-diagrams"></a>종속성 다이어그램을 사용 하 여 앱을 디자인 하거나 업데이트 하는 방법

다음 단계에서는 개발 프로세스 내에서 종속성 다이어그램을 사용 하는 방법에 대 한 개요를 제공 합니다. 이 항목의 뒷부분에 나오는 섹션에서는 각 단계에 대해 좀 더 자세히 설명합니다. 새 디자인을 개발하는 경우 기존 코드를 참조하는 단계는 생략하도록 합니다.

> [!NOTE]
> 이러한 단계는 대략적인 순서로 나타납니다. 작업을 중복하고 상황에 맞게 순서를 변경하며 프로젝트에서 각 반복이 시작될 때 다시 확인할 수 있습니다.

1. 전체 응용 프로그램 또는 그 안에 있는 계층에 대 한 [종속성 다이어그램을 만듭니다](#Create) .

2. 응용 프로그램의 [기본 기능 영역 또는 구성 요소를 나타내는 계층을 정의](#CreateLayers) 합니다. 해당 기능에 따라 이러한 레이어의 이름을 지정합니다(예: "프레젠테이션" 또는 "서비스"). Visual Studio 솔루션을 사용 하는 경우 각 계층을 프로젝트, 네임 스페이스, 파일 등의 *아티팩트*컬렉션과 연결할 수 있습니다.

3. 레이어 간의 [기존 종속성을 검색](#Generate) 합니다.

4. [레이어 및 종속성을 편집](#EditArchitecture) 하 여 코드에 반영할 업데이트 된 디자인을 표시 합니다.

5. 주 아키텍처 블록이 나 구성 요소를 나타내는 계층을 만들고 각 계층에서 다른 계층을 사용 하는 방법을 보여 주는 종속성을 정의 하 여 [응용 프로그램의 새 영역을 디자인](#NewAreas) 합니다.

6. 동료와 논의 하는 데 도움이 되도록 [다이어그램의 레이아웃과 모양을 편집](#EditLayout) 합니다.

7. [종속성 다이어그램에 대해 코드의 유효성을 검사](#Validate) 하 여 필요한 코드와 아키텍처 간의 충돌을 강조 표시 합니다.

8. [새 아키텍처에 맞게 코드를 업데이트](#UpdateCode)합니다. 유효성 검사 결과로 충돌이 나타나지 않을 때까지 반복적으로 코드를 개발하고 리팩터링합니다.

9. [빌드 프로세스에 레이어 유효성 검사를 포함](#BuildValidation) 하 여 코드가 계속 디자인을 준수 하는지 확인 합니다.

## <a name="Create"></a>종속성 다이어그램 만들기

종속성 다이어그램은 모델링 프로젝트 내에 만들어야 합니다. 기존 모델링 프로젝트에 새 종속성 다이어그램을 추가 하거나, 종속성 다이어그램에 대 한 새 모델링 프로젝트를 만들거나, 동일한 모델링 프로젝트 내에서 기존 종속성 다이어그램을 복사할 수 있습니다.

> [!IMPORTANT]
> 모델링 프로젝트에서 다른 모델링 프로젝트나 솔루션의 다른 위치로 기존 종속성 다이어그램을 추가 하거나 끌어 놓거나 복사 하지 마십시오. 이러한 방식으로 복사 된 종속성 다이어그램은 다이어그램을 수정 하는 경우에도 원래 다이어그램과 동일한 참조를 갖게 됩니다. 그러면 레이어 유효성 검사가 제대로 작동하지 않고 다이어그램을 열려고 할 때 요소 누락이나 기타 오류 등의 다른 문제가 발생할 수 있습니다.

[코드에서 종속성 다이어그램 만들기](../modeling/create-layer-diagrams-from-your-code.md)를 참조 하세요.

## <a name="CreateLayers"></a>기능 영역 또는 구성 요소를 나타내는 계층 정의

레이어는 프로젝트, 코드 파일, 네임 스페이스, 클래스, 메서드 등 *아티팩트의*논리 그룹을 나타냅니다. 시각적 개체 C# 및 Visual Basic 프로젝트의 아티팩트에서 레이어를 만들거나 Word 파일 또는 PowerPoint 프레젠테이션과 같은 문서를 연결 하 여 사양 또는 계획을 레이어에 연결할 수 있습니다. 각 레이어는 다이어그램에서 직사각형으로 나타나고 그에 연결된 아티팩트의 수를 보여줍니다. 레이어에는 보다 구체적인 작업을 설명하는 중첩된 레이어가 포함될 수 있습니다.

일반적인 지침대로 해당 기능에 따라 레이어의 이름을 지정합니다(예: "프레젠테이션" 또는 "서비스"). 아티팩트가 밀접하게 상호 종속되는 경우 동일한 레이어에 배치합니다. 아티팩트를 개별적으로 업데이트하거나 별도 애플리케이션에서 사용할 수 있는 경우 다른 레이어에 배치합니다. 계층화 패턴에 대 한 자세한 내용은 [http://go.microsoft.com/fwlink/?LinkId=145794](https://archive.codeplex.com/?p=apparch)의 패턴 & 사례 사이트를 참조 하세요.

> [!TIP]
> 계층에 연결할 수 있지만 종속성 다이어그램에 대 한 유효성 검사를 지원 하지 않는 특정 형식의 아티팩트가 있습니다. 아티팩트가 유효성 검사를 지원 하는지 여부를 확인 하려면 **레이어 탐색기** 를 열어 아티팩트 링크의 **유효성 검사 지원** 속성을 검사 합니다. [레이어 간의 기존 종속성 검색](#Generate)을 참조 하세요.

익숙하지 않은 애플리케이션을 업데이트하는 경우에도 코드 맵을 만들 수 있습니다. 이러한 다이어그램은 코드를 탐색하는 동안 패턴 및 종속성을 검색하는 데 도움이 됩니다. 솔루션 탐색기를 사용하여 네임스페이스와 클래스를 탐색합니다. 이러한 요소는 기존 레이어에 해당하는 경우가 많습니다. 솔루션 탐색기에서 종속성 다이어그램으로 끌어 이러한 코드 아티팩트를 레이어에 할당 합니다. 그런 다음 종속성 다이어그램을 사용 하 여 코드를 업데이트 하 고 디자인과 일관성을 유지할 수 있습니다.

참조

- [코드에서 종속성 다이어그램 만들기](../modeling/create-layer-diagrams-from-your-code.md)

- [코드 맵을 사용하여 애플리케이션 디버그](../modeling/use-code-maps-to-debug-your-applications.md)

- [솔루션 전체의 종속성 매핑](../modeling/map-dependencies-across-your-solutions.md)

## <a name="Generate"></a>레이어 간의 기존 종속성 검색

한 레이어와 연결된 아티팩트에 다른 레이어와 연결된 아티팩트에 대한 참조가 있을 때마다 종속성이 존재합니다. 예를 들어 한 레이어의 클래스가 다른 레이어의 클래스를 포함하는 변수를 선언하는 경우입니다. 리버스 엔지니어링하여 기존 종속성을 검색할 수 있습니다.

> [!NOTE]
> 일부 아티팩트 종류의 경우 종속성을 리버스 엔지니어링할 수 없습니다. 예를 들어 텍스트 파일에 연결된 레이어를 소스 또는 대상으로 하는 종속성은 리버스 엔지니어링되지 않습니다. 리버스 엔지니어링할 수 있는 종속성이 있는 아티팩트를 확인 하려면 하나 또는 여러 계층을 마우스 오른쪽 단추로 클릭 한 다음 **링크 보기**를 클릭 합니다. **레이어 탐색기**에서 **유효성 검사 지원** 열을 검토 합니다. 이 열이 **False**를 표시 하는 아티팩트에 대해서는 종속성이 리버스 엔지니어링 되지 않습니다.

### <a name="to-reverse-engineer-existing-dependencies-between-layers"></a>레이어 간 기존 종속성을 리버스 엔지니어링하려면

하나 이상의 레이어를 선택 하 고 선택한 레이어를 마우스 오른쪽 단추로 클릭 한 다음 **종속성 생성**을 클릭 합니다.

일반적으로 존재할 수 없는 일부 종속성이 나타나는데, 이러한 종속성을 편집하여 계획된 디자인에 맞출 수 있습니다.

## <a name="EditArchitecture"></a>레이어 및 종속성을 편집 하 여 의도 된 디자인 표시

시스템이 나 계획 된 아키텍처에 대 한 변경 내용을 설명 하려면 다음 단계를 사용 하 여 종속성 다이어그램을 편집 합니다. 또한 확장하기 전에 리팩터링을 약간 변경하여 코드의 구조를 향상시키는 것도 고려할 수 있습니다. [코드 구조 개선](#Improving)을 참조 하십시오.

|**대상**|**다음 단계 수행**|
|-|-|
|있지 말아야 할 종속성 삭제|종속성을 클릭 한 다음 **delete**키를 누릅니다.|
|종속성 방향 변경 또는 제한|**Direction** 속성을 설정 합니다.|
|새 종속성 만들기|**종속성** 및 **양방향 종속성** 도구를 사용 합니다.<br /><br /> 종속성을 여러 개 그리려면 이 도구를 두 번 클릭합니다. 작업이 완료 되 면 **포인터** 도구를 클릭 하거나 **esc** 키를 누릅니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 종속될 수 없도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스 종속성** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스에 속하지 않도록 지정합니다.|레이어의 사용할 수 없는 **네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|
|레이어와 연결된 아티팩트가 지정된 네임스페이스 중 하나에 속해야 하도록 지정합니다.|계층의 **필수 네임 스페이스** 속성에 네임 스페이스를 입력 합니다. 세미콜론 ( **;** )을 사용 하 여 네임 스페이스를 구분 합니다.|

### <a name="Improving"></a>코드 구조 개선

리팩터링을 변경하면 애플리케이션의 동작에 영향을 주지 않지만 나중에 코드를 보다 쉽게 변경하고 확장하는 데 도움이 되도록 개선됩니다. 잘 구성 된 코드에는 종속성 다이어그램으로 추상화 하기 쉬운 디자인이 있습니다.

예를 들어 각 네임스페이스에 대한 레이어를 코드에 만든 다음 종속성을 리버스 엔지니어링하면 레이어 간에 최소한의 단방향 종속성만 존재하게 됩니다. 클래스 또는 메서드를 레이어로 사용하여 더 자세한 다이어그램을 만드는 경우에도 같은 특성을 갖게 됩니다.

그렇지 않은 경우 코드는 수명 주기 동안 변경 하기가 더 어렵고 종속성 다이어그램을 사용 하 여 유효성 검사에 적합 하지 않습니다.

## <a name="NewAreas"></a>응용 프로그램의 새 영역 디자인

새 프로젝트의 개발을 시작하거나 새 프로젝트에서 새 영역을 개발하게 될 경우 코드 개발을 시작하기 전에 레이어 및 종속성을 그리면 주요 구성 요소를 식별하는 데 도움이 될 수 있습니다.

- 가능 하면 종속성 다이어그램에 식별할 수 있는 **아키텍처 패턴을 표시** 합니다. 예를 들어 데스크톱 응용 프로그램을 설명 하는 종속성 다이어그램에는 프레젠테이션, 도메인 논리 및 데이터 저장소와 같은 레이어가 포함 될 수 있습니다. 응용 프로그램 내의 단일 기능을 다루는 종속성 다이어그램에는 모델, 뷰 및 컨트롤러와 같은 레이어가 있을 수 있습니다. 이러한 패턴에 대 한 자세한 내용은 [패턴 & 사례: 응용 프로그램 아키텍처](https://archive.codeplex.com/?p=apparch)를 참조 하세요.

- 네임 스페이스, 클래스 또는 구성 요소와 같은 **각 계층에 대 한 코드 아티팩트를 만듭니다** . 이렇게 하면 보다 쉽게 코드를 따라가고 코드 아티팩트를 레이어에 연결할 수 있습니다. 각 아티팩트를 만드는 즉시 해당 레이어에 연결합니다.

- 계층에 이미 연결 된 네임 스페이스와 같은 큰 아티팩트 내에 있기 때문에 **대부분의 클래스 및 기타 아티팩트를 레이어에 연결할 필요가 없습니다** .

- **새 기능에 대 한 새 다이어그램을 만듭니다**. 일반적으로 전체 응용 프로그램을 설명 하는 종속성 다이어그램이 하나 이상 있습니다. 애플리케이션 내에서 새 기능을 디자인하는 경우 기존 다이어그램에 추가하거나 기존 다이어그램을 변경하지 않도록 합니다. 대신 코드의 새 부분을 반영하는 고유한 다이어그램을 만듭니다. 새 다이어그램의 레이어에는 새로운 기능에 대한 프레젠테이션, 도메인 논리 및 데이터베이스 레이어가 포함될 수 있습니다.

     애플리케이션을 빌드할 경우 전체 다이어그램과 더 자세한 기능 다이어그램에 대해 코드의 유효성을 검사합니다.

## <a name="EditLayout"></a>프레젠테이션 및 토론의 레이아웃 편집

레이어 및 종속성을 식별하거나 팀 멤버와 논의하는 데 도움이 되도록 다음과 같은 방법으로 모양 및 다이어그램의 레이아웃을 편집합니다.

- 레이어의 크기, 모양 및 위치를 변경합니다.

- 레이어의 색과 종속성을 변경합니다.

  - 하나 이상의 레이어나 종속성을 선택 하 고 마우스 오른쪽 단추를 클릭 한 다음 **속성**을 클릭 합니다. **속성** 창에서 **Color** 속성을 편집 합니다.

## <a name="Validate"></a>다이어그램에 대해 코드 유효성 검사

다이어그램을 편집한 경우 언제 든 지 수동으로 또는 빌드할 때마다 자동으로 코드에 대해 유효성을 검사할 수 있습니다.

참조

- [종속성 다이어그램을 사용하여 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)

- [빌드 프로세스에 레이어 유효성 검사 포함](#BuildValidation)

## <a name="UpdateCode"></a>새 아키텍처에 맞게 코드를 업데이트 합니다.

일반적으로 업데이트 된 종속성 다이어그램에 대해 코드의 유효성을 처음으로 검사할 때 오류가 표시 됩니다. 이러한 오류에는 다음과 같은 여러 원인이 있을 수 있습니다.

- 잘못된 레이어에 아티팩트가 할당되었습니다. 이 경우 아티팩트를 이동합니다.

- 클래스 등의 아티팩트가 아키텍처에 맞지 않는 방식으로 다른 클래스를 사용합니다. 이 경우 코드를 리팩터링하여 종속성을 제거합니다.

이러한 오류를 해결하려면 유효성 검사 중 더 이상 오류가 나타나지 않을 때까지 코드를 업데이트합니다. 이것은 일반적으로 반복 프로세스입니다. 이러한 오류에 대 한 자세한 내용은 [종속성 다이어그램을 사용 하 여 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)를 참조 하세요.

> [!NOTE]
> 코드를 개발 하거나 리팩터링할 때 종속성 다이어그램에 연결 하는 새 아티팩트가 있을 수 있습니다. 그러나 예를 들어 기존 네임스페이스를 나타내는 레이어가 있고 새 코드가 해당 네임스페이스에 자료만 더 추가한다면 이러한 아티팩트가 필요하지 않을 수 있습니다.

개발 과정에서 유효성 검사 중 보고된 충돌 문제 중 일부를 표시하지 않을 수 있습니다. 예를 들어 이미 해결되었거나 특정 시나리오와 관계가 없는 오류를 표시하지 않을 수 있습니다. 오류를 표시 하지 않는 경우에는 Team Foundation에서 작업 항목을 기록 하는 것이 좋습니다. 이 작업을 수행 하려면 [종속성 다이어그램으로 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)를 참조 하세요.

## <a name="BuildValidation"></a>빌드 프로세스에 레이어 유효성 검사 포함

코드의 이후 변경 내용이 종속성 다이어그램을 따르는지 확인 하려면 솔루션의 표준 빌드 프로세스에 레이어 유효성 검사를 포함 합니다. 다른 팀 멤버가 솔루션을 빌드할 때마다 코드의 종속성과 종속성 다이어그램 간의 차이점이 빌드 오류로 보고 됩니다. 빌드 프로세스에 레이어 유효성 검사를 포함 하는 방법에 대 한 자세한 내용은 [종속성 다이어그램을 사용 하 여 코드 유효성 검사](../modeling/validate-code-with-layer-diagrams.md)를 참조 하세요.

## <a name="see-also"></a>참조

- [종속성 다이어그램: 참조](../modeling/layer-diagrams-reference.md)
- [코드에서 종속성 다이어그램 만들기](../modeling/create-layer-diagrams-from-your-code.md)
